---
title: 1.docker的安装
weight: 1
---
# 1.docker的安装
## docker的安装
```$xslt
0. 需要在Centos7及以上的发行版本, 建议使用overlay2存储驱动程序

1. 卸载已有Docker
   sudo yum remove docker \
   > docker-client \
   > docker-client-latest \
   > docker-common \
   > docker-latest \
   > docker-latest-logrotate \
   > docker-logrotate \
   > docker-engine

2. 使用yum安装依赖包
   sudo yum install -y yum-utils

3. 首次安装DOcker之前,需要添加Docker安装源
   sudo yum-config-manager \
       --add-repo \
       https://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo

4. 安装最新版本的Docker
   sudo yum install docker-ce docker-ce-cli containerd.io
   
   安装指定的docker
   sudo yum list docker-ce --showduplicates|sort -r   
   sudo yum install docker-ce-<VERSION_STRING> docker-ce-cli-<VERSION_STRING> containerd.io

5. 启动docker
   sudo systemctl start docker

6. 启动一个hello world的容器
   
```

## 容器技术的原理
```$xslt
容器技术原理--chroot:
   是在unix和linux系统的一个操作, 针对正在运作的软件行程和它的子进程，改变它外显的根目录。 一个运行在这个环境下，经由chroot设置根目录的程序,
   它不能够对这个指定根目录之外的文件进行访问动作,不能读取, 也不能更改它的内容。

Namespace:
    Namespace对内核资源进行隔离, 使得容器中的进程都可以在单独的命名空间中运行，并且只可以访问当前容器命名空间的资源
    Namespace可以隔离进程ID、主机名、用户ID、文件名、网络访问和进程间通信等相关资源
    
    pid namespace: 隔离进程ID
    net namespace: 隔离网络接口
    mnt namespace: 文件系统挂载点隔离
    ipc namespace: 信号量,消息队列和共享内存的隔离
    uts namespace: 主机名和域名的隔离

Cgroup:
    一种Linux内核功能可以限制和隔离进程的资源使用情况(CPU、内存、磁盘I/O、网络等)

联合文件系统:
    又叫UnionFS, 是一种通过创建文件层进程操作的文件系统,常用的联合文件系统有AUFS、Overlay和Devicemapper等

```